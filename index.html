<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <!-- åœ¨<head>æ ‡ç­¾ä¸­æ·»åŠ ä»¥ä¸‹metaæ ‡ç­¾ï¼Œæå‡å¾®ä¿¡å†…å…¼å®¹æ€§ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸œä¸œæ•æ•çš„ä¸€å‘¨å¹´çºªå¿µæ—¥</title>
    <style>
        body,*{
            caret-color:transparent;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        /* è¾“å…¥ç•Œé¢æ ·å¼ */
        .input-container {
            width: 90%;
            max-width: 600px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 105, 180, 0.6);
            animation: float 8s infinite ease-in-out;
        }

        .main-title {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
            animation: pulse 2s infinite alternate;
        }

        .sub-title {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
        }

        .input-box {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            margin-bottom: 30px;
            outline: none;
            transition: all 0.3s;
        }

        .input-box:focus {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        .input-box::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .submit-btn {
            background: linear-gradient(to right, #8a2be2, #da70d6);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .submit-btn:active {
            transform: translateY(1px);
        }

        .submit-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(30deg);
            transition: all 0.6s;
        }

        .submit-btn:hover::after {
            transform: rotate(30deg) translate(20%, 20%);
        }

        /* ç²’å­çˆ±å¿ƒç•Œé¢æ ·å¼ */
        .heart-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

        /* å›¾ç‰‡å±•ç¤ºå®¹å™¨ */
        .photo-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s;
        }

        .photo {
            width: 150px;
            height: 150px;
            margin: 10px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.7);
            transform: scale(0);
            opacity: 0;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                        opacity 0.8s;
        }

        /* æ–‡å­—å±•ç¤º */
        .message-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
            opacity: 0;
            pointer-events: none;
            z-index: 20;
            color: white;
        }

        /* åº•éƒ¨æ–‡å­— */
        .bottom-text {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
            opacity: 0;
            pointer-events: none;
            z-index: 20;
            color: white;
            transition: opacity 1s;
        }

        /* å¹´åº¦æŠ¥å‘ŠæŒ‰é’® */
        #reportBtn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(to right, #8a2be2, #da70d6);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none;
        }

        #reportBtn:hover {
            transform: translate(-50%, -50%) translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        #reportBtn:active {
            transform: translate(-50%, -50%) translateY(1px);
        }

        /* å¹´åº¦æŠ¥å‘Šç•Œé¢ */
        .report-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .report-image {
            width: 35%;
            height: auto;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .report-images-container {
            display: none;
            flex-direction: row;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .phone-screenshot {
            width: 30%;
            max-width: 250px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: rotate(0deg);
        }

        .report-caption {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .next-page-text {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
        }

        /* åŠ¨ç”» */
        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(20px, -20px) rotate(10deg);
            }
            50% {
                transform: translate(-10px, 20px) rotate(-5deg);
            }
            75% {
                transform: translate(15px, 10px) rotate(5deg);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                text-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
            }
            100% {
                transform: scale(1.05);
                text-shadow: 0 0 20px rgba(255, 105, 180, 1);
            }
        }
    </style>
</head>

<body>
    <!-- è¾“å…¥ç•Œé¢ -->
    <div class="input-container">
        <div class="hearts" id="hearts"></div>
        <h1 class="main-title">ä¸œä¸œæ•æ•çš„ä¸€å‘¨å¹´çºªå¿µæ—¥â¤ï¸</h1>
        <p class="sub-title">è¯·å®å®è¾“å…¥è‡ªå·±æƒ³å¯¹ä¸œä¸œè¯´çš„è¯å§~</p>
        <input type="text" class="input-box" id="messageInput" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä½ çš„å¿ƒé‡Œè¯...">
        <button class="submit-btn" id="submitBtn">å¼€ï¼ï¼ï¼</button>
    </div>

    <!-- ç²’å­çˆ±å¿ƒç•Œé¢ -->
    <div class="heart-container" id="heartContainer">
        <!-- ç…§ç‰‡å±•ç¤ºåŒºåŸŸ -->
        <div class="photo-container" id="photoContainer">
            <!-- è¿™é‡Œä¼šåŠ¨æ€ç”Ÿæˆç…§ç‰‡ -->
        </div>

        <!-- æ–‡å­—å±•ç¤ºåŒºåŸŸ -->
        <div class="message-display" id="messageDisplay"></div>

        <!-- åº•éƒ¨æ–‡å­— -->
        <div class="bottom-text" id="bottomText">æ•æ•çˆ±çš„é­”æ³•å’’è¯­è®©æˆ‘ä»¬ä¸€å¹´çš„ç‚¹ç‚¹æ»´æ»´æ±‡èšæˆæœ€ç¾çš„çˆ±å¿ƒå•¦</div>

        <canvas id="canvas"></canvas>

        <!-- å¹´åº¦æŠ¥å‘ŠæŒ‰é’® -->
        <button id="reportBtn">ç­¾æ”¶å¹´åº¦å®å®æŠ¥å‘Šâ¤ï¸</button>

        <!-- å¹´åº¦æŠ¥å‘Šç•Œé¢ -->
        <div class="report-container" id="reportContainer">
            <img src="" alt="Report Image" class="report-image" id="reportImage">

            <!-- ç¬¬ä¸‰ä¸ªç”»é¢çš„ä¸¤å¼ å¹¶æ’æ‰‹æœºæˆªå›¾ -->
            <div class="report-images-container" id="reportImagesContainer">
                <img src="" alt="Phone Screenshot 1" class="phone-screenshot" id="phoneScreenshot1">
                <img src="" alt="Phone Screenshot 2" class="phone-screenshot" id="phoneScreenshot2">
            </div>

            <p class="report-caption" id="reportCaption"></p>
            <p class="next-page-text">ç‚¹å‡»å±å¹•åˆ‡æ¢ä¸‹é¡µ</p>
        </div>
    </div>

    <script>
        // åˆ›å»ºæ¼‚æµ®çš„å¿ƒå½¢
        const heartsContainer = document.getElementById('hearts');
        for (let i = 0; i < 30; i++) {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'â¤';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 5 + 's';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heartsContainer.appendChild(heart);
        }

        // è·å–DOMå…ƒç´ 
        const inputContainer = document.querySelector('.input-container');
        const heartContainer = document.getElementById('heartContainer');
        const messageInput = document.getElementById('messageInput');
        const submitBtn = document.getElementById('submitBtn');
        const photoContainer = document.getElementById('photoContainer');
        const messageDisplay = document.getElementById('messageDisplay');
        const bottomText = document.getElementById('bottomText');
        const reportBtn = document.getElementById('reportBtn');
        const reportContainer = document.getElementById('reportContainer');
        const reportImage = document.getElementById('reportImage');
        const reportImagesContainer = document.getElementById('reportImagesContainer');
        const phoneScreenshot1 = document.getElementById('phoneScreenshot1');
        const phoneScreenshot2 = document.getElementById('phoneScreenshot2');
        const reportCaption = document.getElementById('reportCaption');

        // å¹´åº¦æŠ¥å‘Šå›¾ç‰‡å’Œæ‰¹æ³¨
        const reportData = [
            { type: 'single', image: 'report/image1.jpg', caption: 'è¿™ä¸€å¹´é‡Œæˆ‘ä»¬å«äº†5wå¤šå£°å®å®ï¼æ¯ä¸€å£°å®å®éƒ½æ˜¯å¸¦ç€èœœä¸€èˆ¬çš„ç”œ~å®å¾—çœŸå¥½å¬å‘€~â¤ï¸' },
            { type: 'single', image: 'report/image2.jpg', caption: 'æ¬¸ğŸ˜~æˆ‘çš„å°å¯çˆ±å®å®~å¹³å‡æ¯æ¡æ•ä¸ªğŸ˜~å¯çˆ±å¤šåˆ°æ•°ä¸æ¸…å•¦~' },
            {
                type: 'double',
                image1: 'report/screenshot-1.jpg',
                image2: 'report/screenshot-2.jpg',
                caption: 'å•¦å•¦å•¦~144133999æ•°å­—å’ŒéŸ³ç¬¦åå¥ç¥ç¦ğŸ¶~æˆ‘ä»¬çš„å¹¸ç¦ä¸€ç›´å¦‚æ­¤æ‚¦è€³~ğŸ’•'
            },
            { type: 'single', image: 'report/image3.jpg', caption: 'è¿™ä¸€å¹´æˆ‘ä»¬çœ‹äº†3åœºç”µå½±~ï¼ˆé—®æˆ‘ç”µå½±å¥½ä¸å¥½çœ‹ï¼Ÿè°çŸ¥é“nuo~ğŸ¤­ğŸ˜š' },
            { type: 'single', image: 'report/image4.jpg', caption: 'æµ·é‡Œæ€ä¹ˆåœ¨å‘äº®å‘€ï¼Ÿå™¢~å› ä¸º...ä½ åƒæ˜Ÿè¾°å å…¥æˆ‘çš„å¿ƒæµ·~ğŸŒ…ğŸ˜â¤ï¸(å”±å¾—çœŸå¥½å¬å‘€)' }
        ];

        let currentReportIndex = 0;
        let userMessage = '';

        // æäº¤æŒ‰é’®äº‹ä»¶
        submitBtn.addEventListener('click', () => {
            const message = messageInput.value.trim();
            if (message) {
                userMessage = message;
                // éšè—è¾“å…¥ç•Œé¢
                inputContainer.style.opacity = '0';
                inputContainer.style.pointerEvents = 'none';

                // æ˜¾ç¤ºç²’å­çˆ±å¿ƒç•Œé¢
                setTimeout(() => {
                    heartContainer.style.display = 'block';
                    startAnimation(message);
                }, 800);
            } else {
                messageInput.placeholder = "è¯·è¾“å…¥å†…å®¹å†æäº¤å“¦~";
                messageInput.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    messageInput.style.animation = '';
                }, 500);
            }
        });

        // åŠ¨ç”»ä¸»å‡½æ•°
        function startAnimation(message) {
            // 1. åˆ›å»ºç…§ç‰‡
            createPhotos();

            // 2. ç…§ç‰‡å±•ç¤ºåŠ¨ç”»
            showPhotos()
              .then(() => {
                    // æ˜¾ç¤ºå¹´åº¦æŠ¥å‘ŠæŒ‰é’®
                    reportBtn.style.display = 'block';
                });
        }

        // åˆ›å»ºç…§ç‰‡ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹å›¾ç‰‡è·¯å¾„
        function createPhotos() {
            photoContainer.innerHTML = '';
            const photoUrls = [
                'image/image-1.jpg',
                'image/image-2.jpg',
                'image/image-3.jpg',
                'image/image-4.jpg',
                'image/image-5.jpg',
                'image/image-6.jpg',
                'image/image-7.jpg',
                'image/image-8.jpg',
                'image/image-9.jpg',
                'image/image-10.jpg',
                'image/image-11.jpg',
                'image/image-12.jpg',
                'image/image-13.jpg',
                'image/image-14.jpg',
                'image/image-15.jpg',
                'image/image-16.jpg',
                'image/image-17.jpg',
                'image/image-18.jpg',
                'image/image-19.jpg',
                'image/image-20.jpg',
                'image/image-21.jpg',
                'image/image-22.jpg',
                'image/image-23.jpg',
                'image/image-24.jpg'
            ];
            photoUrls.forEach((url, index) => {
                const photo = document.createElement('div');
                photo.classList.add('photo');
                photo.style.backgroundImage = `url('${url}')`;
                photo.style.backgroundSize = 'cover';
                photo.style.backgroundPosition = 'center';
                photo.dataset.index = index; // å­˜å‚¨ç…§ç‰‡ç´¢å¼•
                photoContainer.appendChild(photo);
            });
        }

        // ç…§ç‰‡å±•ç¤ºåŠ¨ç”» - è¿›ä¸€æ­¥è°ƒæ•´äº†æ˜¾ç¤ºé€Ÿåº¦
        function showPhotos() {
            return new Promise((resolve) => {
                photoContainer.style.opacity = '1';

                const photos = document.querySelectorAll('.photo');
                const totalPhotos = photos.length;
                let shownCount = 0;

                // æ˜¾ç¤ºæ‰€æœ‰ç…§ç‰‡ï¼Œé—´éš”æ—¶é—´è°ƒæ•´ä¸º400ms
                photos.forEach((photo, index) => {
                    setTimeout(() => {
                        photo.style.transform = 'scale(1)';
                        photo.style.opacity = '1';

                        shownCount++;

                        // å½“æ‰€æœ‰ç…§ç‰‡éƒ½æ˜¾ç¤ºåï¼Œç­‰å¾…5ç§’å†ç»Ÿä¸€éšè—ï¼ˆåŸä¸º3ç§’ï¼‰
                        if (shownCount === totalPhotos) {
                            setTimeout(() => {
                                hideAllPhotos(photos).then(resolve);
                            }, 5000); // æ‰€æœ‰ç…§ç‰‡æ˜¾ç¤ºåï¼Œä¿æŒ5ç§’å†éšè—
                        }
                    }, index * 400); // æ¯å¼ ç…§ç‰‡é—´éš”400msæ˜¾ç¤ºï¼ˆåŸä¸º300msï¼‰
                });
            });
        }

        // ç»Ÿä¸€éšè—æ‰€æœ‰ç…§ç‰‡
        function hideAllPhotos(photos) {
            return new Promise((resolve) => {
                photos.forEach((photo, index) => {
                    photo.style.transform = 'scale(0)';
                    photo.style.opacity = '0';
                });

                // ç­‰å¾…æ‰€æœ‰ç…§ç‰‡éšè—å®Œæˆ
                setTimeout(resolve, 1000);
            });
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(message) {
            return new Promise((resolve) => {
                messageDisplay.textContent = message;
                messageDisplay.style.opacity = '1';

                setTimeout(() => {
                    messageDisplay.style.transition = 'opacity 1.5s ease-out';
                    messageDisplay.style.opacity = '0';
                    setTimeout(resolve, 1500);
                }, 3000);
            });
        }

        // ç²’å­çˆ±å¿ƒåŠ¨ç”»åˆå§‹åŒ–
        function initParticleAnimation(message) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            // è®¾ç½®ç”»å¸ƒå°ºå¯¸
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // ç²’å­ç³»ç»Ÿé…ç½®
            const config = {
                particleCount: 8000, // ç²’å­æ•°é‡
                heartScale: 0.4 * Math.min(canvas.width, canvas.height), // çˆ±å¿ƒå°ºå¯¸
                beatScale: 1.03, // å¿ƒè·³ç¼©æ”¾æ¯”ä¾‹
                beatSpeed: 0.005, // å¿ƒè·³é€Ÿåº¦
                colors: [
                    { r: 255, g: 64, b: 129 },
                    { r: 255, g: 105, b: 180 },
                    { r: 255, g: 20, b: 147 },
                    { r: 255, g: 192, b: 203 }
                ],
                // æ–°å‚æ•°æ§åˆ¶è¾¹ç¼˜åšåº¦å’Œå†…éƒ¨å¯†åº¦
                edgeThickness: 0.15, // è¾¹ç¼˜åšåº¦(0-1)
                edgeParticleSize: 3.0, // è¾¹ç¼˜ç²’å­å¤§å°
                innerParticleSize: 1.0, // å†…éƒ¨ç²’å­å¤§å°
                outlineDensity: 2.0, // è½®å»“å¯†åº¦å€æ•°
            };

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            let particles = [];

            // çˆ±å¿ƒå‚æ•°æ–¹ç¨‹ï¼Œç¡®ä¿çˆ±å¿ƒæ­£ç«‹
            function heartPosition(t, scale) {
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                return {
                    x: centerX + (x * scale) / 30,
                    y: centerY + (y * scale) / 30
                };
            }

            // è®¡ç®—ç‚¹åˆ°çˆ±å¿ƒä¸­å¿ƒçš„è·ç¦»
            function distanceToCenter(x, y) {
                return Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));
            }

            // ç”Ÿæˆçˆ±å¿ƒå½¢çŠ¶çš„ç²’å­ç‚¹
            function generateHeartPoints() {
                const points = [];
                const scale = config.heartScale;
                const maxDistance = distanceToCenter(heartPosition(0, scale).x, heartPosition(0, scale).y);

                // ç”Ÿæˆè¾¹ç¼˜ç²’å­
                const edgePoints = Math.floor(config.particleCount * config.outlineDensity);
                for (let i = 0; i < edgePoints; i++) {
                    const t = (i * Math.PI * 2) / edgePoints;
                    const pos = heartPosition(t, scale);

                    // æ·»åŠ å°‘é‡éšæœºåç§»ï¼Œä½¿è¾¹ç¼˜æ›´è‡ªç„¶
                    const offset = 0.5 + Math.random() * 1.0;
                    pos.x += (Math.random() - 0.5) * offset;
                    pos.y += (Math.random() - 0.5) * offset;

                    // è®¡ç®—åˆ°ä¸­å¿ƒçš„è·ç¦»æ¯”ä¾‹
                    const distRatio = distanceToCenter(pos.x, pos.y) / maxDistance;

                    // æ ‡è®°ä¸ºè¾¹ç¼˜ç²’å­
                    pos.isEdge = distRatio > (1 - config.edgeThickness);

                    points.push(pos);
                }

                // ç”Ÿæˆå†…éƒ¨ç²’å­
                const innerPoints = config.particleCount;
                for (let i = 0; i < innerPoints; i++) {
                    // åœ¨çˆ±å¿ƒå†…éƒ¨éšæœºç”Ÿæˆç‚¹
                    const t = Math.random() * Math.PI * 2;
                    const r = Math.random() * (1 - config.edgeThickness);

                    // çˆ±å¿ƒå‚æ•°æ–¹ç¨‹ï¼Œræ§åˆ¶è·ç¦»ä¸­å¿ƒçš„æ¯”ä¾‹
                    const x = 16 * Math.pow(Math.sin(t), 3) * r;
                    const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t)) * r;

                    const pos = {
                        x: centerX + (x * scale) / 30,
                        y: centerY + (y * scale) / 30,
                        isEdge: false
                    };

                    points.push(pos);
                }

                return points;
            }

            // ç²’å­ç±»
            class Particle {
                constructor(target) {
                    this.target = target;
                    // åˆå§‹ä½ç½®éšæœºåˆ†æ•£
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = 0;
                    this.vy = 0;

                    // æ ¹æ®æ˜¯å¦åœ¨è¾¹ç¼˜è®¾ç½®ä¸åŒå¤§å°
                    this.size = target.isEdge ?
                        config.edgeParticleSize :
                        config.innerParticleSize;

                    // éšæœºé€‰æ‹©é¢œè‰²
                    const color = config.colors[Math.floor(Math.random() * config.colors.length)];
                    // è¾¹ç¼˜ç²’å­ä½¿ç”¨æ›´ä¸é€æ˜çš„é¢œè‰²
                    this.color = target.isEdge ?
                        `rgba(${color.r}, ${color.g}, ${color.b}, 0.9)` :
                        `rgba(${color.r}, ${color.g}, ${color.b}, 0.4)`;

                    // å¿ƒè·³åŠ¨ç”»ç›¸ä½å·®
                    this.phase = Math.random() * Math.PI * 2;
                }

                // æ›´æ–°ç²’å­ä½ç½®
                update() {
                    // è®¡ç®—ç›®æ ‡è·ç¦»
                    const dx = this.target.x - this.x;
                    const dy = this.target.y - this.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    // æ·»åŠ å¿ƒè·³æ•ˆæœ
                    const pulse = 1 + Math.sin(Date.now() * config.beatSpeed + this.phase) * 0.02;
                    const tx = centerX + (this.target.x - centerX) * pulse * config.beatScale;
                    const ty = centerY + (this.target.y - centerY) * pulse * config.beatScale;

                    // è®¡ç®—åŠ é€Ÿåº¦
                    const force = Math.min(distance * 0.02, 1);
                    this.vx += (tx - this.x) * force * 0.05;
                    this.vy += (ty - this.y) * force * 0.05;

                    // æ·»åŠ é˜»åŠ›
                    this.vx *= 0.85;
                    this.vy *= 0.85;

                    // æ›´æ–°ä½ç½®
                    this.x += this.vx;
                    this.y += this.vy;
                }

                // ç»˜åˆ¶ç²’å­
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
            }

            // åˆå§‹åŒ–ç²’å­
            function initParticles() {
                particles = [];
                const heartPoints = generateHeartPoints();

                heartPoints.forEach(point => {
                    particles.push(new Particle(point));
                });
            }

            // åŠ¨ç”»å¾ªç¯
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // ç»˜åˆ¶åŠé€æ˜èƒŒæ™¯
                ctx.fillStyle = 'rgba(10, 10, 40, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // æ›´æ–°å¹¶ç»˜åˆ¶ç²’å­
                particles.forEach(particle => {
                    particle.update();
                    particle.draw();
                });

                requestAnimationFrame(animate);
            }

            // å¯åŠ¨åŠ¨ç”»
            initParticles();
            animate();

            // æ˜¾ç¤ºåº•éƒ¨æ–‡å­—
            bottomText.style.opacity = '1';

            // 6såæ˜¾ç¤ºç‰¹å®šæ–‡å­—
            setTimeout(() => {
                messageDisplay.textContent = 'æˆ‘ä»¬ä¸€èµ·åº¦è¿‡çš„1/âˆä¸ª613\nå˜Ÿå˜Ÿ~å¼€å¯æˆ‘ä»¬çš„æ›´ç”œèœœçš„æ–°ç¯‡ç« !';
                messageDisplay.style.opacity = '1';
            }, 6000);
        }

        // çª—å£å¤§å°è°ƒæ•´
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('canvas');
            if (canvas) {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
        });

        // å¹´åº¦æŠ¥å‘ŠæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        reportBtn.addEventListener('click', () => {
            reportBtn.style.display = 'none';
            reportContainer.style.display = 'flex';
            showReportPage();
        });

        // æ˜¾ç¤ºå¹´åº¦æŠ¥å‘Šé¡µé¢
        function showReportPage() {
            if (currentReportIndex < reportData.length) {
                const data = reportData[currentReportIndex];

                // æ ¹æ®ç±»å‹æ˜¾ç¤ºä¸åŒå¸ƒå±€
                if (data.type === 'single') {
                    // æ˜¾ç¤ºå•å¼ å›¾ç‰‡
                    reportImage.src = data.image;
                    reportImage.style.display = 'block';
                    reportImagesContainer.style.display = 'none';
                } else {
                    // æ˜¾ç¤ºä¸¤å¼ å¹¶æ’çš„æ‰‹æœºæˆªå›¾
                    phoneScreenshot1.src = data.image1;
                    phoneScreenshot2.src = data.image2;
                    reportImage.style.display = 'none';
                    reportImagesContainer.style.display = 'flex';
                }

                // æ›´æ–°æ‰¹æ³¨
                reportCaption.textContent = data.caption;
                currentReportIndex++;
            } else {
                reportContainer.style.display = 'none';
                // æ˜¾ç¤ºç”¨æˆ·è¾“å…¥çš„å†…å®¹
                showMessage(userMessage).then(() => {
                    // æ˜¾ç¤ºæœ€åçš„çˆ±å¿ƒ
                    initParticleAnimation();
                });
            }
        }

        // ç‚¹å‡»å±å¹•åˆ‡æ¢å¹´åº¦æŠ¥å‘Šé¡µé¢
        reportContainer.addEventListener('click', showReportPage);
    </script>
</body>

</html>